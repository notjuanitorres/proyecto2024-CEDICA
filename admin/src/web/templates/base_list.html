{% extends "layout.html" %}

{% from "macros/pagination.html" import render_pagination %}
{% from "macros/edit_menu.html" import render_actions_menu %}
{% from "macros/delete_modal.html" import render_delete_modal %}

{% block title %}{% block page_title %}{% endblock %}{% endblock %}

{% block head %}
    {{ super() }}
    {% block additional_head %}{% endblock %}
{% endblock %}

{% block main_content %}
  <nav class="breadcrumb mb-2" aria-label="breadcrumbs">
    <ul>
      <li>
        <a href="{{ url_for('index_bp.home')}}">
          <span class="icon is-small">
            <i class="fas fa-home" aria-hidden="true"></i>
          </span>
          <span>Inicio</span>
        </a>
      </li>
      {% block breadcrumb_items %}{% endblock %}
    </ul>
  </nav>

  {% with messages = get_flashed_messages(with_categories=true) %}
  {% if messages %}
  {% for category, message in messages %}
  <ul>
      <li class="notification is-{{ category }} mt-4 mx-2">
          <button class="delete"></button>
          {{ message }}
      </li>
  </ul>
  {% endfor %}
  {% endif %}
  {% endwith %}

  <section class="is-fullheight-with-navbar mt-4">
    <div class="table-container p-2">
      <div class="box level mx-2">
        {% block create_button %}{% endblock %}

        {% block filter_form %}{% endblock %}
      </div>

      <table class="table is-striped is-scrollable is-fullwidth">
        <thead>
          <tr>
            {% block table_header %}{% endblock %}
          </tr>
        </thead>
        <tbody>
          {% block table_body %}{% endblock %}
        </tbody>
        <tfoot>
          <tr>
            {% block table_footer %}{% endblock %}
          </tr>
        </tfoot>
      </table>
      <div class="container px-5">
        {% block pagination %}{% endblock %}
      </div>

      {% block delete_modal %}{% endblock %}
    </div>
  </section>
{% endblock %}
